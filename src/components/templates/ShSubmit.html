<div class="submit-root">
  <template v-if="!loading">
    <transition name="fade">
      <div class="form">
        <form novalidate>
          <textarea name="message" v-model="message"></textarea>
          <input type="file" ref="upload" name="upload" accept="image/*" @change="onFileChange" />
        </form>
        <div v-if="message && message.length > 0" v-on:click="postMessage">Odeslat</div>
      </div>
    </transition>
  </template>
  <template v-else>
    <transition name="fade">
      Processing...
    </transition>
  </template>
  <div class="error" v-if="error">{{error}}</div>
</div>